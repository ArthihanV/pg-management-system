{% extends 'base.html' %}

{% block sidebar %}
<li><a href="{% url 'dashboard' %}"><i class="fa-solid fa-chart-line"></i>Dashboard</a></li>
<li><a href="{% url 'approve_pg_owners' %}">Approve Owners</a></li>
<li><a href="{% url 'admin_users' %}"><i class="fa-solid fa-user-gear"></i>Users</a></li>
<li><a href="{% url 'admin_bookings' %}"><i class="fa-solid fa-calendar-check"></i>Bookings</a></li>
{% endblock %}

{% block title %}Approve PG Owners{% endblock %}

{% block content %}
<h2>Pending PG Owner Approvals</h2>

{% if pending_owners %}
<table class="table">
    <tr>
        <th>Username</th>
        <th>Action</th>
    </tr>

    {% for owner in pending_owners %}
    <tr>
        <td>{{ owner.username }}</td>
        <td>
            <form method="post" action="{% url 'approve_owner' owner.id %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="btn success">Approve</button>
            </form>

            <form method="post" action="{% url 'reject_owner' o.id %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="btn danger">Reject</button>
            </form>

        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No pending PG Owner approvals ðŸŽ‰</p>
{% endif %}
{% endblock %}
